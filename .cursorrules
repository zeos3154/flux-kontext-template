# Cursor Rules for Next.js 15 + TypeScript Project


 ç©·å°½ä¸€åˆ‡æ–¹æ³•æ€è€ƒï¼Œchatä¸Šä¸‹æ–‡ä¸­æ–‡Always respond in ä¸­æ–‡ï¼Œå¯¹è¯æ¡†è®¨è®ºæ°¸è¿œç”¨Chineseå›å¤æˆ‘ï¼Œä»£ç ä¸­åªèƒ½ç”¨ä¸­æ–‡æ³¨é‡Šä½†æ˜¯ç½‘é¡µæ–‡æ¡ˆä¸èƒ½æœ‰ä¸­æ–‡ï¼›æ°¸è¿œåªä½¿ç”¨3000ç«¯å£ä¸æ–°å¢ç«¯å£è¿è¡Œï¼Œ3000ç«¯å£ä¸€ç›´åœ¨å¯åŠ¨æ‰€ä»¥ä¸éœ€è¦æ–°å¢æœåŠ¡å™¨å¯åŠ¨ï¼Œä½ å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶æ¥æ£€æŸ¥å¹¶ä¿®æ”¹ç›´åˆ°é¡¹ç›®ä¸å†å‡ºç°é”™è¯¯ï¼Œæ¯æ¬¡é¡¹ç›®æ›´æ–°å’Œæ”¹åŠ¨ä¹Ÿéƒ½å†™åˆ°readme.mdæ–‡æ¡£é‡Œé¢å“ˆï¼Œæ¯ä¸ªæ­¥éª¤éƒ½ä¸€å®šè¦ä¸Šä¼ åˆ°GITçš„é»˜è®¤MASTERåˆ†æ”¯å¹¶å†™å¥½COMMIT MESSAGESä»¥æ”¾åœ¨ä»£ç æ”¹å´©æ–¹ä¾¿å¤‡ä»½æ¢å¤ï¼Œä¸è¦ç›´æ¥é—®æˆ‘è¦å¾ˆå¤šè§„åˆ™å’Œç­”æ¡ˆï¼Œè€Œæ˜¯å¸®æˆ‘è§„åˆ’å¥½ä¸åŒæ–¹æ¡ˆï¼Œä¸€æ­¥æ­¥æ’æŸ¥æ‰€æœ‰å¯èƒ½é—®é¢˜ï¼Œä½†æ˜¯ç»ä¸èƒ½æ“…è‡ªè½»æ˜“åˆ é™¤ä»»ä½•æ–‡ä»¶ï¼Œåˆ æ”¹æ–‡ä»¶å¿…é¡»åœ¨è·Ÿæˆ‘ç¡®è®¤ä¹‹åå†å»æ‰§è¡Œ
ï¼Œé‡åˆ°éœ€è¦æˆ‘æä¾›ä¿¡æ¯çš„ä¸€å®šè¦è¯¢é—®æˆ‘ï¼ŒæŒ¨ä¸ªç»™æˆ‘è§£é‡Šä»£ç æ–‡ä»¶å’Œé€»è¾‘ç»“æ„ï¼Œä¸èƒ½åŸºäºä»»ä½•å‡è®¾æ¥åšä»£ç ä¿®æ”¹, å¿…é¡»æŸ¥çœ‹ä»£ç æ–‡ä»¶ç»“æ„å»ç¡®è®¤å®é™…æƒ…å†µ, æœ€åå†å»æ‰§è¡Œæ‰€æœ‰ä»£ç ä¿®æ”¹çš„åŠ¨ä½œï¼Œä¸€æ—¦å‡ºç°è§£å†³ä¸äº†çš„å¤æ‚é¡¹ç›®å°±æ‰“å°å‡½æ•°å’Œç¨‹åºè°ƒç”¨é“¾è‡ªå·±æ¥åˆ†æï¼šä¿®å¤ä¸‰å¾‹ï¼š1ï¸âƒ£ ç²¾ï¼šå¤æ‚åº¦â‰¤åŸæ–¹æ¡ˆ80%ï¼Œ2ï¸âƒ£ å‡†ï¼šç›´å‡»æ ¹æœ¬åŸå›  ï¼Œ3ï¸âƒ£ å‡€ï¼š0æŠ€æœ¯å€ºåŠ¡(SonarQubeâœ”ï¸)ï¼Œâš™ï¸ ä¸‰æ­¥èµ°ï¼šâ‘  æº¯æº â†’ å‡½æ•°ï¼Œæ–¹æ³•è°ƒç”¨é“¾â†’ é”™è¯¯è§¦å‘è·¯å¾„  â‘¡ æ‹†è§£ â†’ ç»™å‡º3ä¸ªSOLID++æ–¹æ¡ˆï¼Œä¸èƒ½åŸºäºä»»ä½•å‡è®¾å‰ææ¡ä»¶ï¼Œå¿…é¡»è¦è·Ÿæˆ‘ç¡®è®¤å…·ä½“çš„APIå’Œé¡¹ç›®æ–‡æ¡£ï¼Œä¸éœ€è¦é‡å¯å¼€å‘æœåŠ¡å™¨ï¼Œä¸€ç›´ä¿æŒ3000ç«¯å£æ‰“å¼€å³å¯ï¼Œåƒå°ç™½ä¸€æ ·æ•™å¯¼æˆ‘æ‰€æœ‰åŸºç¡€ç†è®ºçŸ¥è¯†ï¼Œ ç»ä¸èƒ½æ“…è‡ªè½»æ˜“åˆ é™¤ä»»ä½•æ–‡ä»¶ï¼Œåˆ æ”¹æ–‡ä»¶å¿…é¡»åœ¨è·Ÿæˆ‘ç¡®è®¤ä¹‹åå†å»æ‰§è¡Œï¼Œå…ˆä»”ç»†é˜…è¯»æ‰€æœ‰é¡¹ç›®æ–‡ä»¶æŸ¥çœ‹ç›¸å…³ä»£ç ææ¸…æ¥šæ‰€æœ‰æƒ…å†µå’Œé”™è¯¯é—®é¢˜æœ¬è´¨åŸå› å’Œå¯èƒ½è§£å†³æ–¹æ¡ˆå†è·Ÿæˆ‘ç¡®è®¤åå»åŠ¨æ‰‹åˆ æ”¹ä»£ç å“ˆ

æ³¨æ„é”™è¯¯ï¼šæ·»åŠ  "use client" æŒ‡ä»¤æ—¶ï¼Œä¸èƒ½åŒæ—¶å¯¼å‡º metadataï¼Œå› ä¸º metadata åªèƒ½åœ¨æœåŠ¡å™¨ç»„ä»¶ä¸­ä½¿ç”¨


  You are an expert in TypeScript, Node.js, Next.js App Router, React, Shadcn UI, Radix UI and Tailwind.
  
  Code Style and Structure
  - Write concise, technical TypeScript code with accurate examples.
  - Use functional and declarative programming patterns; avoid classes.
  - Prefer iteration and modularization over code duplication.
  - Use descriptive variable names with auxiliary verbs (e.g., isLoading, hasError).
  - Structure files: exported component, subcomponents, helpers, static content, types.
  
  Naming Conventions
  - Use lowercase with dashes for directories (e.g., components/auth-wizard).
  - Favor named exports for components.
  
  TypeScript Usage
  - Use TypeScript for all code; prefer interfaces over types.
  - Avoid enums; use maps instead.
  - Use functional components with TypeScript interfaces.
  
  Syntax and Formatting
  - Use the "function" keyword for pure functions.
  - Avoid unnecessary curly braces in conditionals; use concise syntax for simple statements.
  - Use declarative JSX.
  
  UI and Styling
  - Use Shadcn UI, Radix, and Tailwind for components and styling.
  - Implement responsive design with Tailwind CSS; use a mobile-first approach.
  
  Performance Optimization
  - Minimize 'use client', 'useEffect', and 'setState'; favor React Server Components (RSC).
  - Wrap client components in Suspense with fallback.
  - Use dynamic loading for non-critical components.
  - Optimize images: use WebP format, include size data, implement lazy loading.
  
  Key Conventions
  - Use 'nuqs' for URL search parameter state management.
  - Optimize Web Vitals (LCP, CLS, FID).
  - Limit 'use client':
    - Favor server components and Next.js SSR.
    - Use only for Web API access in small components.
    - Avoid for data fetching or state management.
  
  Follow Next.js docs for Data Fetching, Rendering, and Routing.    
  

## ğŸš¨ Critical Next.js Rules

### 1. "use client" vs metadata å†²çªè§„åˆ™
- âŒ **ç»å¯¹ç¦æ­¢**: åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­åŒæ—¶ä½¿ç”¨ `"use client"` å’Œ `export const metadata`
- âœ… **æ­£ç¡®åšæ³•**: 
  - æœåŠ¡å™¨ç»„ä»¶: åªå¤„ç† metadataï¼Œä¸ä½¿ç”¨ "use client"
  - å®¢æˆ·ç«¯ç»„ä»¶: åªå¤„ç†äº¤äº’é€»è¾‘ï¼Œä½¿ç”¨ "use client"
- ğŸ”§ **è§£å†³æ–¹æ¡ˆ**: é¡µé¢åˆ†ç¦»æ¶æ„
  ```typescript
  // âœ… æœåŠ¡å™¨ç»„ä»¶ (page.tsx)
  import type { Metadata } from 'next'
  import { PageContent } from '@/components/PageContent'
  
  export const metadata: Metadata = { /* SEOé…ç½® */ }
  export default function Page() {
    return <PageContent />
  }
  
  // âœ… å®¢æˆ·ç«¯ç»„ä»¶ (PageContent.tsx)
  "use client"
  import { useState } from "react"
  export function PageContent() {
    // æ‰€æœ‰äº¤äº’é€»è¾‘
  }
  ```

### 2. Next.js App Router æ¶æ„è§„åˆ™
- âœ… **layout.tsx**: åªèƒ½æ˜¯æœåŠ¡å™¨ç»„ä»¶ï¼Œå¤„ç†å…¨å±€é…ç½®
- âœ… **page.tsx**: ä¼˜å…ˆä½¿ç”¨æœåŠ¡å™¨ç»„ä»¶ï¼Œéœ€è¦äº¤äº’æ—¶åˆ†ç¦»ä¸ºå®¢æˆ·ç«¯ç»„ä»¶
- âœ… **loading.tsx**: æœåŠ¡å™¨ç»„ä»¶ï¼Œå¤„ç†åŠ è½½çŠ¶æ€
- âœ… **error.tsx**: å¿…é¡»æ˜¯å®¢æˆ·ç«¯ç»„ä»¶ ("use client")
- âœ… **not-found.tsx**: æœåŠ¡å™¨ç»„ä»¶

### 3. ç»„ä»¶å‘½åå’Œå¯¼å‡ºè§„åˆ™
- âœ… **é¡µé¢ç»„ä»¶**: ä½¿ç”¨ default export
- âœ… **å¯å¤ç”¨ç»„ä»¶**: ä½¿ç”¨ named export
- âœ… **å®¢æˆ·ç«¯ç»„ä»¶**: æ–‡ä»¶åä»¥ Content.tsx ç»“å°¾ (å¦‚ DashboardContent.tsx)
- âœ… **æœåŠ¡å™¨ç»„ä»¶**: ç›´æ¥ä½¿ç”¨ page.tsx æˆ–ç»„ä»¶å.tsx

### 4. TypeScript å’Œå¯¼å…¥è§„åˆ™
- âœ… **ç±»å‹å¯¼å…¥**: ä½¿ç”¨ `import type { Metadata } from 'next'`
- âœ… **ç»„ä»¶å¯¼å…¥**: ä½¿ç”¨ `import { Component } from '@/components/Component'`
- âœ… **é¿å…å¾ªç¯ä¾èµ–**: æ£€æŸ¥å¯¼å…¥è·¯å¾„ï¼Œé¿å… Aâ†’Bâ†’A çš„å¾ªç¯

### 5. çŠ¶æ€ç®¡ç†è§„åˆ™
- âœ… **useState/useEffect**: åªèƒ½åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ä½¿ç”¨
- âœ… **usePathname/useRouter**: åªèƒ½åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ä½¿ç”¨
- âœ… **æœåŠ¡å™¨ç»„ä»¶**: åªèƒ½ä½¿ç”¨ async/await å’ŒæœåŠ¡å™¨ç«¯ API

## ğŸ¯ å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

### é”™è¯¯1: Event handlers in Server Components
```typescript
// âŒ é”™è¯¯
export default function Page() {
  return <button onClick={() => {}}>Click</button>
}

// âœ… æ­£ç¡®
"use client"
export function PageContent() {
  return <button onClick={() => {}}>Click</button>
}
```

### é”™è¯¯2: Hooks in Server Components
```typescript
// âŒ é”™è¯¯
export default function Page() {
  const [state, setState] = useState(false)
  return <div>{state}</div>
}

// âœ… æ­£ç¡®
"use client"
export function PageContent() {
  const [state, setState] = useState(false)
  return <div>{state}</div>
}
```

### é”™è¯¯3: Script onLoad in Server Components
```typescript
// âŒ é”™è¯¯
<Script src="..." onLoad={() => {}} />

// âœ… æ­£ç¡®
<Script src="..." strategy="lazyOnload" />
```

## ğŸ”§ ä»£ç è´¨é‡è§„åˆ™

### 1. ä¸­æ–‡æ³¨é‡Šè§„åˆ™
- âœ… **ä»£ç æ³¨é‡Š**: å¿…é¡»ä½¿ç”¨ä¸­æ–‡
- âœ… **ç½‘é¡µæ–‡æ¡ˆ**: å¿…é¡»ä½¿ç”¨è‹±æ–‡
- âœ… **å˜é‡å**: ä½¿ç”¨è‹±æ–‡
- âœ… **å‡½æ•°å**: ä½¿ç”¨è‹±æ–‡

### 2. ç«¯å£å’ŒæœåŠ¡å™¨è§„åˆ™
- âœ… **å›ºå®šç«¯å£**: æ°¸è¿œåªä½¿ç”¨ 3000 ç«¯å£
- âœ… **ä¸æ–°å¢ç«¯å£**: ä¸åˆ›å»ºæ–°çš„æœåŠ¡å™¨ç«¯å£
- âœ… **ä¿æŒè¿è¡Œ**: 3000 ç«¯å£ä¸€ç›´ä¿æŒå¯åŠ¨çŠ¶æ€

### 3. Git æäº¤è§„åˆ™
- âœ… **æ¯æ¬¡æ›´æ–°**: å¿…é¡»æäº¤åˆ° Git é»˜è®¤ master åˆ†æ”¯
- âœ… **Commit æ ¼å¼**: ä½¿ç”¨ä¸­æ–‡æè¿°å…·ä½“æ”¹åŠ¨
- âœ… **æ›´æ–°æ–‡æ¡£**: æ¯æ¬¡é¡¹ç›®æ›´æ–°éƒ½è¦æ›´æ–° README.md

## ğŸš€ æ€§èƒ½ä¼˜åŒ–è§„åˆ™

### 1. ç»„ä»¶ä¼˜åŒ–
- âœ… **åŠ¨æ€å¯¼å…¥**: å¤§å‹ç»„ä»¶ä½¿ç”¨ `dynamic(() => import())`
- âœ… **Suspense**: å®¢æˆ·ç«¯ç»„ä»¶åŒ…è£…åœ¨ Suspense ä¸­
- âœ… **é¿å…è¿‡åº¦ä½¿ç”¨**: æœ€å°åŒ– "use client" çš„ä½¿ç”¨

### 2. å›¾ç‰‡ä¼˜åŒ–
- âœ… **Next.js Image**: ä½¿ç”¨ `next/image` ç»„ä»¶
- âœ… **WebPæ ¼å¼**: ä¼˜å…ˆä½¿ç”¨ WebP æ ¼å¼
- âœ… **æ‡’åŠ è½½**: å¯ç”¨å›¾ç‰‡æ‡’åŠ è½½

## ğŸ“ æ–‡æ¡£æ›´æ–°è§„åˆ™

### 1. README.md æ›´æ–°
- âœ… **åŠŸèƒ½å˜æ›´**: æ¯æ¬¡åŠŸèƒ½æ›´æ–°éƒ½è¦è®°å½•
- âœ… **æŠ€æœ¯å€ºåŠ¡**: è®°å½•å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- âœ… **ç‰ˆæœ¬ä¿¡æ¯**: æ›´æ–°ç‰ˆæœ¬å·å’Œæ›´æ–°æ—¥å¿—

### 2. é”™è¯¯å¤„ç†
- âœ… **ä¸‰å¾‹åŸåˆ™**: ç²¾(å¤æ‚åº¦â‰¤80%)ã€å‡†(ç›´å‡»æ ¹å› )ã€å‡€(0æŠ€æœ¯å€ºåŠ¡)
- âœ… **ä¸‰æ­¥èµ°**: æº¯æºâ†’æ‹†è§£â†’æ‰§è¡Œ
- âœ… **ä¸åŸºäºå‡è®¾**: å¿…é¡»æŸ¥çœ‹å®é™…ä»£ç æ–‡ä»¶ç¡®è®¤æƒ…å†µ 