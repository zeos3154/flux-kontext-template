# ğŸ”§ é¡¹ç›®é…ç½®æ£€æŸ¥å’Œå°ç™½ä¸Šæ‰‹æŒ‡å—

## ğŸ¯ é…ç½®æ£€æŸ¥æ¸…å•

### âœ… **å¿…é¡»é…ç½®çš„ç¯å¢ƒå˜é‡**

#### ğŸ—„ï¸ **1. Supabaseæ•°æ®åº“é…ç½® (å¿…éœ€)**
```bash
# Supabaseé¡¹ç›®é…ç½®
NEXT_PUBLIC_SUPABASE_URL="https://your-project-id.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"
```
**âš ï¸ æš—å‘è­¦å‘Šï¼š**
- å¿…é¡»åœ¨ [Supabase](https://supabase.com) åˆ›å»ºé¡¹ç›®æ‰èƒ½è·å–è¿™äº›å¯†é’¥
- `NEXT_PUBLIC_SUPABASE_URL` æ ¼å¼å¿…é¡»æ˜¯ `https://é¡¹ç›®ID.supabase.co`
- `SUPABASE_SERVICE_ROLE_KEY` æ‹¥æœ‰ç®¡ç†å‘˜æƒé™ï¼Œä¸è¦æ³„éœ²

**ğŸ”§ è·å–æ–¹æ³•ï¼š**
1. è®¿é—® [Supabase Dashboard](https://app.supabase.com)
2. åˆ›å»ºæ–°é¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
3. è¿›å…¥ Settings â†’ API
4. å¤åˆ¶ Project URL å’Œ API Keys

#### ğŸ” **2. NextAuthè®¤è¯é…ç½® (å¿…éœ€)**
```bash
# NextAuthåŸºç¡€é…ç½®
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-super-secret-key-at-least-32-characters"

# Google OAuth (æ¨èé…ç½®)
NEXT_PUBLIC_AUTH_GOOGLE_ENABLED="true"
AUTH_GOOGLE_ID="your-google-client-id.apps.googleusercontent.com"
AUTH_GOOGLE_SECRET="your-google-client-secret"

# GitHub OAuth (å¯é€‰)
NEXT_PUBLIC_AUTH_GITHUB_ENABLED="false"
AUTH_GITHUB_ID="your-github-client-id"
AUTH_GITHUB_SECRET="your-github-client-secret"

# é‚®ç®±å¯†ç ç™»å½• (å¯é€‰)
NEXT_PUBLIC_AUTH_CREDENTIALS_ENABLED="false"
```

**âš ï¸ æš—å‘è­¦å‘Šï¼š**
- `NEXTAUTH_SECRET`å¿…é¡»è‡³å°‘32ä¸ªå­—ç¬¦ï¼Œå»ºè®®ä½¿ç”¨éšæœºç”Ÿæˆ
- Google OAuthéœ€è¦åœ¨Google Cloud Consoleé…ç½®å›è°ƒURL
- ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹`NEXTAUTH_URL`ä¸ºå®é™…åŸŸå

#### ğŸ’³ **3. æ”¯ä»˜ç³»ç»Ÿé…ç½® (æ ¸å¿ƒåŠŸèƒ½)**
```bash
# Stripeæ”¯ä»˜ (å›½é™…ç”¨æˆ·)
NEXT_PUBLIC_ENABLE_STRIPE="true"
STRIPE_PUBLIC_KEY="pk_test_..."
STRIPE_PRIVATE_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Creemæ”¯ä»˜ (ä¸­å›½ç”¨æˆ·)
NEXT_PUBLIC_ENABLE_CREEM="true"
CREEM_API_URL="https://test-api.creem.io/v1"
CREEM_API_KEY="your_creem_api_key"
CREEM_WEBHOOK_SECRET="your_creem_webhook_secret"

# æ”¯ä»˜ç³»ç»Ÿæ§åˆ¶
NEXT_PUBLIC_DEFAULT_PAYMENT_PROVIDER="creem"
```

**âš ï¸ æš—å‘è­¦å‘Šï¼š**
- æµ‹è¯•ç¯å¢ƒä½¿ç”¨`pk_test_`å’Œ`sk_test_`å¼€å¤´çš„å¯†é’¥
- Webhookå¯†é’¥å¿…é¡»ä¸æ”¯ä»˜å¹³å°é…ç½®ä¸€è‡´
- åŒæ”¯ä»˜ç³»ç»Ÿè‡³å°‘å¯ç”¨ä¸€ä¸ªï¼Œå¦åˆ™æ— æ³•æ­£å¸¸å·¥ä½œ

### ğŸ”§ **é…ç½®æ–‡ä»¶æ£€æŸ¥**

#### ğŸ“ **1. æ”¯ä»˜é…ç½®æ–‡ä»¶æ£€æŸ¥**
```typescript
// src/lib/config/payment.ts å…³é”®é…ç½®
export const PAYMENT_CONFIG = {
  STRIPE_ENABLED: true,        // âœ… æ£€æŸ¥æ˜¯å¦å¯ç”¨
  CREEM_ENABLED: true,         // âœ… æ£€æŸ¥æ˜¯å¦å¯ç”¨
  DEFAULT_PROVIDER: "creem",   // âœ… æ£€æŸ¥é»˜è®¤æä¾›å•†
  MAINTENANCE_MODE: false,     // âš ï¸ ç¡®ä¿ä¸æ˜¯ç»´æŠ¤æ¨¡å¼
}
```

**ğŸ” æ£€æŸ¥æ–¹æ³•ï¼š**
1. æ‰“å¼€ `src/lib/config/payment.ts`
2. ç¡®è®¤è‡³å°‘ä¸€ä¸ªæ”¯ä»˜ç³»ç»Ÿå¯ç”¨
3. ç¡®è®¤`MAINTENANCE_MODE: false`
4. ç¡®è®¤`DEFAULT_PROVIDER`å¯¹åº”çš„ç³»ç»Ÿå·²å¯ç”¨

#### ğŸ“ **2. Supabaseé…ç½®æ£€æŸ¥**
```bash
# æ£€æŸ¥Supabaseå·¥å…·æ–‡ä»¶æ˜¯å¦å­˜åœ¨
src/utils/supabase/client.ts    # å®¢æˆ·ç«¯é…ç½®
src/utils/supabase/server.ts    # æœåŠ¡ç«¯é…ç½®

# ç”ŸæˆTypeScriptç±»å‹å®šä¹‰
npm run supabase:types

# æ£€æŸ¥Supabaseè¿æ¥
npx supabase status
```

**âš ï¸ æš—å‘è­¦å‘Šï¼š**
- ç¡®ä¿Supabaseé¡¹ç›®å·²åˆ›å»ºå¹¶è·å–æ­£ç¡®çš„APIå¯†é’¥
- å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é…ç½®æ–‡ä»¶å¿…é¡»æ­£ç¡®è®¾ç½®
- TypeScriptç±»å‹å®šä¹‰æœ‰åŠ©äºå¼€å‘æ—¶çš„ç±»å‹æ£€æŸ¥

---

## ğŸš¨ å°ç™½å¸¸è§æš—å‘è¯¦è§£

### ğŸ—„ï¸ **Supabaseæ•°æ®åº“æš—å‘**

#### **æš—å‘1: Supabaseé¡¹ç›®URLæ ¼å¼é”™è¯¯**
```bash
# âŒ é”™è¯¯æ ¼å¼
NEXT_PUBLIC_SUPABASE_URL="supabase.co/dashboard/project/abc123"
NEXT_PUBLIC_SUPABASE_URL="https://abc123.supabase.io"

# âœ… æ­£ç¡®æ ¼å¼
NEXT_PUBLIC_SUPABASE_URL="https://abc123.supabase.co"
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. è®¿é—® [Supabase Dashboard](https://app.supabase.com)
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. è¿›å…¥ Settings â†’ API
4. å¤åˆ¶ Project URLï¼ˆæ ¼å¼ï¼šhttps://é¡¹ç›®ID.supabase.coï¼‰

#### **æš—å‘2: APIå¯†é’¥æ··æ·†**
```bash
# âŒ å¸¸è§é”™è¯¯ï¼šä½¿ç”¨äº†é”™è¯¯çš„å¯†é’¥
NEXT_PUBLIC_SUPABASE_ANON_KEY="service_role_key_here"  # è¿™æ˜¯æœåŠ¡è§’è‰²å¯†é’¥ï¼
SUPABASE_SERVICE_ROLE_KEY="anon_key_here"             # è¿™æ˜¯åŒ¿åå¯†é’¥ï¼

# âœ… æ­£ç¡®é…ç½®
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."  # anon/publicå¯†é’¥
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."     # service_roleå¯†é’¥
```

#### **æš—å‘3: RLS (Row Level Security) æœªé…ç½®**
```sql
-- âŒ é”™è¯¯ï¼šè¡¨åˆ›å»ºåå¿˜è®°å¯ç”¨RLS
CREATE TABLE profiles (
  id UUID REFERENCES auth.users(id),
  full_name TEXT,
  avatar_url TEXT
);

-- âœ… æ­£ç¡®ï¼šå¯ç”¨RLSå¹¶è®¾ç½®ç­–ç•¥
CREATE TABLE profiles (
  id UUID REFERENCES auth.users(id),
  full_name TEXT,
  avatar_url TEXT
);

ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;

-- åˆ›å»ºç­–ç•¥ï¼šç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
CREATE POLICY "Users can view own profile" ON profiles
  FOR SELECT USING (auth.uid() = id);

CREATE POLICY "Users can update own profile" ON profiles
  FOR UPDATE USING (auth.uid() = id);
```

### ğŸ” **è®¤è¯ç³»ç»Ÿæš—å‘**

#### **æš—å‘4: Supabaseè®¤è¯é…ç½®é”™è¯¯**
```typescript
// âŒ é”™è¯¯ï¼šç›´æ¥ä½¿ç”¨ç¯å¢ƒå˜é‡
const supabase = createClient(
  "https://abc123.supabase.co",  // ç¡¬ç¼–ç URL
  "your-anon-key"                // ç¡¬ç¼–ç å¯†é’¥
)

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡
const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)
```

#### **æš—å‘5: æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯é…ç½®æ··æ·†**
```typescript
// âŒ é”™è¯¯ï¼šåœ¨æœåŠ¡ç«¯ç»„ä»¶ä½¿ç”¨å®¢æˆ·ç«¯é…ç½®
// app/dashboard/page.tsx (æœåŠ¡ç«¯ç»„ä»¶)
import { createClient } from '@/utils/supabase/client'  // é”™è¯¯ï¼

// âœ… æ­£ç¡®ï¼šåœ¨æœåŠ¡ç«¯ç»„ä»¶ä½¿ç”¨æœåŠ¡ç«¯é…ç½®
import { createClient } from '@/utils/supabase/server'

// âœ… æ­£ç¡®ï¼šåœ¨å®¢æˆ·ç«¯ç»„ä»¶ä½¿ç”¨å®¢æˆ·ç«¯é…ç½®
'use client'
import { createClient } from '@/utils/supabase/client'
```

#### **æš—å‘6: è®¤è¯çŠ¶æ€æ£€æŸ¥é”™è¯¯**
```typescript
// âŒ é”™è¯¯ï¼šæ²¡æœ‰æ­£ç¡®æ£€æŸ¥è®¤è¯çŠ¶æ€
export default function Dashboard() {
  const supabase = createClient()
  const user = supabase.auth.getUser()  // è¿™æ˜¯Promiseï¼
  
  if (!user) {  // æ°¸è¿œä¸ºtrueï¼Œå› ä¸ºuseræ˜¯Promise
    redirect('/login')
  }
}

// âœ… æ­£ç¡®ï¼šæ­£ç¡®æ£€æŸ¥è®¤è¯çŠ¶æ€
export default async function Dashboard() {
  const supabase = createClient()
  const { data: { user } } = await supabase.auth.getUser()
  
  if (!user) {
    redirect('/login')
  }
}
```

### ğŸ’³ **æ”¯ä»˜ç³»ç»Ÿæš—å‘**

#### **æš—å‘7: æ”¯ä»˜é‡‘é¢å•ä½é”™è¯¯**
```typescript
// âŒ é”™è¯¯ï¼šç›´æ¥ä½¿ç”¨å…ƒä¸ºå•ä½
const amount = 29.99 // 29.99å…ƒ

// âœ… æ­£ç¡®ï¼šä½¿ç”¨åˆ†ä¸ºå•ä½
const amount = 2999 // 29.99å…ƒ = 2999åˆ†
```

#### **æš—å‘8: WebhookéªŒè¯å¤±è´¥**
```typescript
// âŒ é”™è¯¯ï¼šæ²¡æœ‰éªŒè¯Webhookç­¾å
export async function POST(request: NextRequest) {
  const body = await request.json() // ç›´æ¥è§£æï¼Œä¸å®‰å…¨
  // å¤„ç†æ”¯ä»˜å›è°ƒ...
}

// âœ… æ­£ç¡®ï¼šéªŒè¯Webhookç­¾å
export async function POST(request: NextRequest) {
  const body = await request.text() // å…ˆè·å–åŸå§‹æ–‡æœ¬
  const signature = request.headers.get('stripe-signature')
  
  // éªŒè¯ç­¾å
  const event = stripe.webhooks.constructEvent(
    body,
    signature,
    process.env.STRIPE_WEBHOOK_SECRET
  )
  // å¤„ç†éªŒè¯åçš„äº‹ä»¶...
}
```

### ğŸŒ **APIè·¯ç”±æš—å‘**

#### **æš—å‘9: APIè·¯ç”±æ–‡ä»¶å‘½åé”™è¯¯**
```
âŒ é”™è¯¯å‘½åï¼š
src/app/api/users/users.ts
src/app/api/users/index.ts

âœ… æ­£ç¡®å‘½åï¼š
src/app/api/users/route.ts
```

#### **æš—å‘10: è¯·æ±‚æ–¹æ³•æœªå¯¼å‡º**
```typescript
// âŒ é”™è¯¯ï¼šæ–¹æ³•åä¸æ­£ç¡®
export async function get() { } // å°å†™ï¼Œä¸ä¼šè¢«è¯†åˆ«

// âœ… æ­£ç¡®ï¼šä½¿ç”¨å¤§å†™æ–¹æ³•å
export async function GET() { }
export async function POST() { }
export async function PUT() { }
export async function DELETE() { }
```

---

## ğŸš€ å°ç™½ä¸Šæ‰‹æ­¥éª¤

### ğŸ¯ **æ–¹æ³•1: ä¸€é”®å¿«é€Ÿè®¾ç½®ï¼ˆæ¨èï¼‰**
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/CharlieLZ/veo3.us.git
cd veo3.us

# 2. è¿è¡Œä¸€é”®è®¾ç½®è„šæœ¬
npm run setup
# æˆ–è€…
node scripts/quick-setup.js

# 3. æ ¹æ®æç¤ºé…ç½®ç¯å¢ƒå˜é‡
# ç¼–è¾‘ .env.local æ–‡ä»¶ï¼Œé…ç½®Supabaseå’ŒAPIå¯†é’¥

# 4. å¯åŠ¨é¡¹ç›®
npm run dev
```

### ğŸ“‹ **æ–¹æ³•2: æ‰‹åŠ¨é€æ­¥è®¾ç½®**

#### **ç¬¬1æ­¥ï¼šç¯å¢ƒå‡†å¤‡**
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/CharlieLZ/veo3.us.git
cd veo3.us

# 2. å®‰è£…ä¾èµ–
npm install
# æˆ–è€…ä½¿ç”¨bunï¼ˆæ¨èï¼‰
bun install

# 3. å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
cp env.example .env.local
```

### ğŸ“‹ **ç¬¬2æ­¥ï¼šSupabaseé…ç½®**
```bash
# 1. åˆ›å»ºSupabaseé¡¹ç›®
# è®¿é—® https://supabase.com
# ç‚¹å‡» "New Project" åˆ›å»ºé¡¹ç›®

# 2. è·å–é¡¹ç›®é…ç½®
# è¿›å…¥ Settings â†’ API
# å¤åˆ¶ä»¥ä¸‹ä¿¡æ¯åˆ° .env.localï¼š
# - Project URL
# - anon/public key  
# - service_role key

# 3. é…ç½®ç¯å¢ƒå˜é‡
# ç¼–è¾‘ .env.local æ–‡ä»¶
NEXT_PUBLIC_SUPABASE_URL="https://your-project-id.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# 4. åˆ›å»ºSupabaseå·¥å…·æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
npm run setup
```

### ğŸ“‹ **ç¬¬3æ­¥ï¼šè®¤è¯é…ç½®**
```bash
# 1. ç”ŸæˆNextAuthå¯†é’¥
openssl rand -base64 32
# å¤åˆ¶ç»“æœåˆ° NEXTAUTH_SECRET

# 2. é…ç½®Google OAuthï¼ˆæ¨èï¼‰
# - è®¿é—® Google Cloud Console
# - åˆ›å»ºOAuth 2.0å®¢æˆ·ç«¯
# - é…ç½®å›è°ƒURL: http://localhost:3000/api/auth/callback/google
# - å¤åˆ¶å®¢æˆ·ç«¯IDå’Œå¯†é’¥åˆ°ç¯å¢ƒå˜é‡

# 3. åœ¨Supabaseä¸­é…ç½®è®¤è¯
# - è¿›å…¥ Authentication â†’ Providers
# - å¯ç”¨Googleè®¤è¯
# - å¡«å…¥Google OAuthé…ç½®
```

### ğŸ“‹ **ç¬¬4æ­¥ï¼šæ”¯ä»˜é…ç½®ï¼ˆå¯é€‰ï¼‰**
```bash
# 1. Stripeé…ç½®ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰
# - æ³¨å†ŒStripeè´¦å·
# - è·å–æµ‹è¯•å¯†é’¥ï¼ˆpk_test_ å’Œ sk_test_ï¼‰
# - é…ç½®Webhookç«¯ç‚¹

# 2. Creemé…ç½®ï¼ˆä¸­å›½ç”¨æˆ·ï¼‰
# - è”ç³»Creemè·å–æµ‹è¯•è´¦å·
# - é…ç½®APIå¯†é’¥å’ŒWebhook
```

### ğŸ“‹ **ç¬¬5æ­¥ï¼šå¯åŠ¨é¡¹ç›®**
```bash
# 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# æˆ–è€…
bun dev

# 2. è®¿é—®é¡¹ç›®
# æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000

# 3. æµ‹è¯•åŠŸèƒ½
# - æµ‹è¯•ç”¨æˆ·æ³¨å†Œ/ç™»å½•
# - æµ‹è¯•æ”¯ä»˜æµç¨‹ï¼ˆå¦‚æœå·²é…ç½®ï¼‰
# - æŸ¥çœ‹Supabaseæ•°æ®ï¼šè®¿é—®Supabase Dashboard
```

---

## ğŸ” é…ç½®éªŒè¯æ¸…å•

### âœ… **åŸºç¡€åŠŸèƒ½éªŒè¯**
- [ ] é¡¹ç›®èƒ½æ­£å¸¸å¯åŠ¨ï¼ˆæ— æŠ¥é”™ï¼‰
- [ ] é¦–é¡µèƒ½æ­£å¸¸è®¿é—®
- [ ] Supabaseè¿æ¥æ­£å¸¸
- [ ] ç¯å¢ƒå˜é‡æ­£ç¡®é…ç½®

### âœ… **è®¤è¯åŠŸèƒ½éªŒè¯**
- [ ] ç™»å½•æŒ‰é’®æ˜¾ç¤ºæ­£å¸¸
- [ ] Googleç™»å½•èƒ½æ­£å¸¸è·³è½¬
- [ ] ç™»å½•åèƒ½è·å–ç”¨æˆ·ä¿¡æ¯
- [ ] é€€å‡ºç™»å½•åŠŸèƒ½æ­£å¸¸

### âœ… **æ”¯ä»˜åŠŸèƒ½éªŒè¯**
- [ ] å®šä»·é¡µé¢æ˜¾ç¤ºæ­£å¸¸
- [ ] æ”¯ä»˜æŒ‰é’®èƒ½æ­£å¸¸ç‚¹å‡»
- [ ] æ”¯ä»˜æµç¨‹èƒ½æ­£å¸¸è·³è½¬
- [ ] Webhookèƒ½æ­£å¸¸æ¥æ”¶

### âœ… **APIåŠŸèƒ½éªŒè¯**
- [ ] APIè·¯ç”±èƒ½æ­£å¸¸è®¿é—®
- [ ] é”™è¯¯å¤„ç†æ­£å¸¸å·¥ä½œ
- [ ] æ•°æ®éªŒè¯æ­£å¸¸å·¥ä½œ
- [ ] å“åº”æ ¼å¼æ­£ç¡®

---

## ğŸ†˜ å¸¸è§é—®é¢˜è§£å†³

### â“ **é—®é¢˜1: é¡¹ç›®å¯åŠ¨æŠ¥é”™**
```bash
# é”™è¯¯ä¿¡æ¯ï¼šModule not found
# è§£å†³æ–¹æ¡ˆï¼š
rm -rf node_modules package-lock.json
npm install

# æˆ–è€…ä½¿ç”¨bun
rm -rf node_modules bun.lock
bun install
```

### â“ **é—®é¢˜2: Supabaseè¿æ¥å¤±è´¥**
```bash
# é”™è¯¯ä¿¡æ¯ï¼šInvalid API key or URL
# è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥Supabaseé¡¹ç›®æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æœ‰æ•ˆ
4. ç¡®è®¤é¡¹ç›®URLæ ¼å¼æ­£ç¡®
```

### â“ **é—®é¢˜3: è®¤è¯ä¸å·¥ä½œ**
```bash
# é”™è¯¯ä¿¡æ¯ï¼šOAuth error
# è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥Google OAuthé…ç½®
2. æ£€æŸ¥å›è°ƒURLè®¾ç½®
3. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®
4. æ£€æŸ¥NEXTAUTH_SECRETæ˜¯å¦è®¾ç½®
```

### â“ **é—®é¢˜4: æ”¯ä»˜åŠŸèƒ½å¼‚å¸¸**
```bash
# é”™è¯¯ä¿¡æ¯ï¼šPayment provider not available
# è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥æ”¯ä»˜é…ç½®æ–‡ä»¶
2. æ£€æŸ¥ç¯å¢ƒå˜é‡
3. æ£€æŸ¥æ”¯ä»˜æä¾›å•†çŠ¶æ€
4. æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
```

è®°ä½ï¼š**é…ç½®æ˜¯é¡¹ç›®æˆåŠŸçš„åŸºç¡€ï¼Œæ¯ä¸€ä¸ªç¯å¢ƒå˜é‡éƒ½å¾ˆé‡è¦ï¼é‡åˆ°é—®é¢˜å…ˆæ£€æŸ¥é…ç½®ï¼Œ90%çš„é—®é¢˜éƒ½æ˜¯é…ç½®é”™è¯¯å¯¼è‡´çš„ã€‚** ğŸ”§âœ¨

---

## ğŸ“‹ å®Œæ•´å‘½ä»¤æ¸…å•

### ğŸš€ **é¡¹ç›®è®¾ç½®å‘½ä»¤**
```bash
# ä¸€é”®å¿«é€Ÿè®¾ç½®ï¼ˆæ¨èæ–°æ‰‹ï¼‰
npm run setup

# ä»…å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
npm run setup:env

# æ£€æŸ¥é¡¹ç›®é…ç½®çŠ¶æ€
npm run check
```

### ğŸ—„ï¸ **Supabaseç®¡ç†å‘½ä»¤**
```bash
# ç”ŸæˆTypeScriptç±»å‹å®šä¹‰
npm run supabase:types

# æ¨é€æ•°æ®åº“ç»“æ„ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
npm run supabase:migrate

# é‡ç½®æ•°æ®åº“ï¼ˆå±é™©æ“ä½œï¼‰
npm run supabase:reset
```

### ğŸ”§ **å¼€å‘æœåŠ¡å™¨å‘½ä»¤**
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ¨èï¼‰
npm run dev

# å¯åŠ¨ç¨³å®šç‰ˆæœ¬ï¼ˆä¸ä½¿ç”¨turbopackï¼‰
npm run dev:stable

# æ¸…ç†ç«¯å£å¹¶å¯åŠ¨
npm run dev:clean

# ä»…æ¸…ç†3000ç«¯å£
npm run kill:3000
```

### ğŸ” **ä»£ç è´¨é‡å‘½ä»¤**
```bash
# ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
npm run lint

# ä»…æ ¼å¼åŒ–ä»£ç 
npm run format

# æ€§èƒ½æ£€æŸ¥
npm run perf

# æ„å»ºåˆ†æ
npm run analyze
```

### ğŸ†˜ **æ•…éšœæ’é™¤å‘½ä»¤**
```bash
# æ£€æŸ¥é…ç½®çŠ¶æ€
node scripts/check-config.js

# é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules package-lock.json
npm install

# æ£€æŸ¥SupabaseçŠ¶æ€
npx supabase status

# ç™»å½•Supabase CLI
npx supabase login
```

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒå¡ç‰‡

### âœ… **æ–°æ‰‹å¿…åšæ¸…å•**
- [ ] è¿è¡Œ `npm run setup` ä¸€é”®è®¾ç½®
- [ ] åœ¨Supabaseåˆ›å»ºé¡¹ç›®å¹¶è·å–APIå¯†é’¥
- [ ] ç¼–è¾‘ `.env.local` é…ç½®Supabaseè¿æ¥
- [ ] è¿è¡Œ `npm run check` æ£€æŸ¥é…ç½®
- [ ] è¿è¡Œ `npm run dev` å¯åŠ¨é¡¹ç›®
- [ ] è®¿é—® `http://localhost:3000` æŸ¥çœ‹æ•ˆæœ

### âš ï¸ **å¸¸è§é”™è¯¯å¿«é€Ÿä¿®å¤**
| é”™è¯¯ä¿¡æ¯ | è§£å†³æ–¹æ¡ˆ |
|---------|---------|
| `Module not found` | `npm install` |
| `Invalid Supabase URL` | æ£€æŸ¥ `NEXT_PUBLIC_SUPABASE_URL` |
| `Supabase connection failed` | æ£€æŸ¥APIå¯†é’¥é…ç½® |
| `NextAuth error` | æ£€æŸ¥ `NEXTAUTH_SECRET` |
| `Port 3000 in use` | `npm run kill:3000` |

### ğŸ”— **é‡è¦æ–‡ä»¶è·¯å¾„**
```
.env.local                           # ç¯å¢ƒå˜é‡é…ç½®
src/lib/config/payment.ts            # æ”¯ä»˜ç³»ç»Ÿé…ç½®
src/lib/auth.ts                      # è®¤è¯ç³»ç»Ÿé…ç½®
src/utils/supabase/client.ts         # Supabaseå®¢æˆ·ç«¯é…ç½®
src/utils/supabase/server.ts         # SupabaseæœåŠ¡ç«¯é…ç½®
docs/é¡¹ç›®é…ç½®æ£€æŸ¥å’Œå°ç™½ä¸Šæ‰‹æŒ‡å—.md      # æœ¬æ–‡æ¡£
```

**ğŸ’¡ è®°ä½ï¼šé‡åˆ°é—®é¢˜å…ˆè¿è¡Œ `npm run check` æ£€æŸ¥é…ç½®ï¼Œå¤§éƒ¨åˆ†é—®é¢˜éƒ½èƒ½å¿«é€Ÿå®šä½ï¼** 