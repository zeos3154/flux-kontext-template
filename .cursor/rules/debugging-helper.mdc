---
description: å½“è°ƒè¯•é‡åˆ°é—®é¢˜çš„æ—¶å€™ ï¼Œé˜…è¯»æ­¤è§„åˆ™
globs: 
alwaysApply: false
---
# è°ƒè¯•é—®é¢˜è§£å†³æŒ‡å— ğŸ›ğŸ”§

## ğŸ¯ é‡åˆ°é”™è¯¯ä¸è¦æ…Œï¼

**è®°ä½**: é”™è¯¯æ˜¯å­¦ä¹ çš„æœ€å¥½è€å¸ˆï¼Œæ¯ä¸ªé”™è¯¯éƒ½åœ¨æ•™ä½ æ–°çš„çŸ¥è¯†ï¼

## ğŸ” å¸¸è§é”™è¯¯ç±»å‹å’Œè§£å†³æ–¹æ¡ˆ

### 1. ç¼–è¯‘é”™è¯¯ (TypeScript/ESLint)

#### âŒ "use client" å’Œ metadata å†²çª
```typescript
// é”™è¯¯ç¤ºä¾‹
"use client"
export const metadata = { title: "Test" }  // è¿™ä¼šæŠ¥é”™ï¼
```

**ğŸ”§ è§£å†³æ–¹æ¡ˆ**: åˆ†ç¦»æœåŠ¡å™¨ç»„ä»¶å’Œå®¢æˆ·ç«¯ç»„ä»¶
```typescript
// page.tsx (æœåŠ¡å™¨ç»„ä»¶)
export const metadata = { title: "Test" }
export default function Page() {
  return <PageContent />
}

// PageContent.tsx (å®¢æˆ·ç«¯ç»„ä»¶)  
"use client"
export function PageContent() {
  // äº¤äº’é€»è¾‘
}
```

#### âŒ å¯¼å…¥è·¯å¾„é”™è¯¯
```
Module not found: Can't resolve '@/components/Button'
```

**ğŸ”§ è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥æ–‡ä»¶è·¯å¾„å’Œå¯¼å…¥è¯­å¥
- ç¡®è®¤æ–‡ä»¶å­˜åœ¨äºæ­£ç¡®ä½ç½®
- æ£€æŸ¥æ–‡ä»¶åå¤§å°å†™æ˜¯å¦åŒ¹é…
- éªŒè¯ tsconfig.json ä¸­çš„è·¯å¾„é…ç½®

### 2. è¿è¡Œæ—¶é”™è¯¯

#### âŒ Cannot read property of undefined
```javascript
const user = null
console.log(user.name)  // é”™è¯¯ï¼
```

**ğŸ”§ è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨å¯é€‰é“¾å’Œé»˜è®¤å€¼
```typescript
// å®‰å…¨çš„å†™æ³•
console.log(user?.name || 'Guest')
// æˆ–è€…
if (user) {
  console.log(user.name)
}
```

#### âŒ Hook åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨
```typescript
if (condition) {
  const [state, setState] = useState()  // é”™è¯¯ï¼
}
```

**ğŸ”§ è§£å†³æ–¹æ¡ˆ**: Hook å¿…é¡»åœ¨é¡¶å±‚è°ƒç”¨
```typescript
const [state, setState] = useState()
if (condition) {
  // ä½¿ç”¨ state
}
```

### 3. ç½‘ç»œå’ŒAPIé”™è¯¯

#### âŒ Failed to fetch æˆ– 500 Internal Server Error
**è°ƒè¯•æ­¥éª¤**:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æŸ¥çœ‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„ Network é¢æ¿
3. æ£€æŸ¥ API ç«¯ç‚¹æ˜¯å¦æ­£ç¡®
4. éªŒè¯ç¯å¢ƒå˜é‡é…ç½®

#### âŒ CORS é”™è¯¯
```
Access to fetch blocked by CORS policy
```

**ğŸ”§ è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥ [next.config.js](mdc:next.config.js) é…ç½®
```javascript
// next.config.js
async headers() {
  return [
    {
      source: "/api/:path*",
      headers: [
        { key: "Access-Control-Allow-Origin", value: "*" },
      ],
    },
  ]
}
```

## ğŸ› ï¸ è°ƒè¯•å·¥å…·ä½¿ç”¨æŒ‡å—

### 1. æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- **Console**: æŸ¥çœ‹ JavaScript é”™è¯¯å’Œ console.log è¾“å‡º
- **Network**: æŸ¥çœ‹ API è¯·æ±‚å’Œå“åº”
- **Elements**: æ£€æŸ¥ HTML ç»“æ„å’Œ CSS æ ·å¼
- **Sources**: è®¾ç½®æ–­ç‚¹è°ƒè¯•ä»£ç 

### 2. VS Code è°ƒè¯•åŠŸèƒ½
- è®¾ç½®æ–­ç‚¹: ç‚¹å‡»è¡Œå·å·¦ä¾§
- ä½¿ç”¨ console.log æ‰“å°å˜é‡å€¼
- ä½¿ç”¨ debugger è¯­å¥æš‚åœæ‰§è¡Œ

### 3. Next.js ç‰¹æœ‰è°ƒè¯•
```typescript
// åœ¨æœåŠ¡å™¨ç»„ä»¶ä¸­è°ƒè¯•
console.log("è¿™ä¼šåœ¨ç»ˆç«¯æ˜¾ç¤º")

// åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­è°ƒè¯•  
"use client"
console.log("è¿™ä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º")
```

## ğŸ”§ è°ƒè¯•ç­–ç•¥

### ğŸ¯ ä¸‰æ­¥è°ƒè¯•æ³•

#### ç¬¬ä¸€æ­¥: å®šä½é—®é¢˜
1. **è¯»é”™è¯¯ä¿¡æ¯**: ä»”ç»†é˜…è¯»é”™è¯¯æç¤º
2. **æ‰¾åˆ°é”™è¯¯ä½ç½®**: æ ¹æ®å †æ ˆè·Ÿè¸ªæ‰¾åˆ°å‡ºé”™æ–‡ä»¶
3. **ç†è§£é”™è¯¯åŸå› **: æ€è€ƒä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ä¸ªé”™è¯¯

#### ç¬¬äºŒæ­¥: åˆ†æé—®é¢˜
1. **æ£€æŸ¥ç›¸å…³ä»£ç **: æŸ¥çœ‹å‡ºé”™çš„ä»£ç ç‰‡æ®µ
2. **éªŒè¯æ•°æ®**: ç¡®è®¤å˜é‡å€¼æ˜¯å¦ç¬¦åˆé¢„æœŸ
3. **è¿½è¸ªæ•°æ®æµ**: è·Ÿè¸ªæ•°æ®ä»å“ªé‡Œæ¥ï¼Œåˆ°å“ªé‡Œå»

#### ç¬¬ä¸‰æ­¥: è§£å†³é—®é¢˜
1. **å°æ­¥ä¿®æ”¹**: ä¸€æ¬¡åªæ”¹ä¸€ä¸ªåœ°æ–¹
2. **æµ‹è¯•éªŒè¯**: ä¿®æ”¹åç«‹å³æµ‹è¯•
3. **è®°å½•å­¦ä¹ **: è®°ä½è¿™ä¸ªé”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

### ğŸ” æ’æŸ¥æ€è·¯

#### å½“ç»„ä»¶ä¸æ˜¾ç¤ºæ—¶
```typescript
// æ£€æŸ¥æ¸…å•:
// 1. ç»„ä»¶æ˜¯å¦æ­£ç¡®å¯¼å…¥ï¼Ÿ
import { MyComponent } from './MyComponent'

// 2. ç»„ä»¶æ˜¯å¦æ­£ç¡®ä½¿ç”¨ï¼Ÿ
<MyComponent />

// 3. æ˜¯å¦æœ‰æ¡ä»¶æ¸²æŸ“é˜»æ­¢æ˜¾ç¤ºï¼Ÿ
{condition && <MyComponent />}

// 4. CSS æ˜¯å¦éšè—äº†ç»„ä»¶ï¼Ÿ
<MyComponent className="hidden" />  // æ£€æŸ¥è¿™é‡Œï¼
```

#### å½“ API ä¸å·¥ä½œæ—¶
```typescript
// æ£€æŸ¥æ¸…å•:
// 1. API è·¯ç”±æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Ÿ
// app/api/test/route.ts

// 2. HTTP æ–¹æ³•æ˜¯å¦åŒ¹é…ï¼Ÿ
export async function GET() { ... }  // ç¡®ä¿åŒ¹é… fetch('/api/test')

// 3. ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®ï¼Ÿ
process.env.DATABASE_URL  // æ£€æŸ¥ .env.local

// 4. æ˜¯å¦æœ‰é”™è¯¯å¤„ç†ï¼Ÿ
try {
  const result = await fetch('/api/test')
  if (!result.ok) throw new Error('API failed')
} catch (error) {
  console.error('é”™è¯¯:', error)
}
```

## ğŸ“ å¸¸ç”¨è°ƒè¯•ä»£ç ç‰‡æ®µ

### æ‰“å°å˜é‡å€¼
```typescript
// ç®€å•æ‰“å°
console.log('å˜é‡å€¼:', variable)

// æ ¼å¼åŒ–æ‰“å°
console.log('%cè°ƒè¯•ä¿¡æ¯', 'color: blue; font-size: 16px', {
  user,
  status,
  timestamp: new Date()
})

// è¡¨æ ¼å½¢å¼æ‰“å°æ•°ç»„
console.table(arrayData)
```

### æ£€æŸ¥ç»„ä»¶æ¸²æŸ“
```typescript
"use client"
import { useEffect } from 'react'

export function MyComponent({ data }) {
  // æ£€æŸ¥ç»„ä»¶æ˜¯å¦æ¸²æŸ“
  console.log('MyComponent æ¸²æŸ“äº†', { data })
  
  // æ£€æŸ¥æ•°æ®å˜åŒ–
  useEffect(() => {
    console.log('data å˜åŒ–äº†:', data)
  }, [data])
  
  return <div>{data}</div>
}
```

### API è°ƒè¯•æ¨¡æ¿
```typescript
// app/api/debug/route.ts
export async function GET() {
  try {
    console.log('API è¢«è°ƒç”¨äº†')
    
    // æ£€æŸ¥ç¯å¢ƒå˜é‡
    console.log('ç¯å¢ƒå˜é‡æ£€æŸ¥:', {
      NODE_ENV: process.env.NODE_ENV,
      DATABASE_URL: !!process.env.DATABASE_URL,
    })
    
    const data = { message: 'API å·¥ä½œæ­£å¸¸', timestamp: new Date() }
    console.log('è¿”å›æ•°æ®:', data)
    
    return Response.json(data)
  } catch (error) {
    console.error('API é”™è¯¯:', error)
    return Response.json({ error: error.message }, { status: 500 })
  }
}
```

## ğŸ“ è°ƒè¯•å¿ƒæ€å»ºè®¾

### ğŸ’ª é‡åˆ°é”™è¯¯æ—¶çš„æ­£ç¡®å¿ƒæ€
- **ä¸è¦ææ…Œ**: é”™è¯¯æ˜¯æ­£å¸¸çš„ï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½ä¼šé‡åˆ°
- **ä¿æŒå¥½å¥‡**: æŠŠé”™è¯¯å½“ä½œå­¦ä¹ æœºä¼š
- **ç³»ç»Ÿæ€è€ƒ**: ä¸€æ­¥æ­¥åˆ†æï¼Œä¸è¦ç›²ç›®ä¿®æ”¹
- **å¯»æ±‚å¸®åŠ©**: ä¸æ‡‚å°±é—®ï¼Œæ²¡æœ‰æ„šè ¢çš„é—®é¢˜

### ğŸ¯ æé«˜è°ƒè¯•æŠ€èƒ½çš„æ–¹æ³•
1. **å¤šç»ƒä¹ **: æ•…æ„åˆ¶é€ ä¸€äº›é”™è¯¯ï¼Œç„¶åç»ƒä¹ ä¿®å¤
2. **é˜…è¯»æ–‡æ¡£**: ç†è§£å·¥å…·å’Œæ¡†æ¶çš„å·¥ä½œåŸç†
3. **å­¦ä¹ ä»–äºº**: çœ‹çœ‹å…¶ä»–äººæ˜¯å¦‚ä½•è§£å†³ç›¸ä¼¼é—®é¢˜çš„
4. **è®°å½•æ€»ç»“**: å»ºç«‹è‡ªå·±çš„é”™è¯¯è§£å†³æ–¹æ¡ˆåº“

è®°ä½: è°ƒè¯•èƒ½åŠ›æ˜¯ç¨‹åºå‘˜æœ€é‡è¦çš„æŠ€èƒ½ä¹‹ä¸€ï¼Œæ¯æ¬¡è§£å†³é—®é¢˜éƒ½è®©ä½ å˜å¾—æ›´å¼ºï¼ğŸš€
